<div class="tag-input-root">
  <div class="tag-controls">
    <mat-form-field appearance="outline" class="tag-input-field">
      <!-- Tags displayed inside the input area -->
      <div class="tags-container" matPrefix>
        <mat-chip-set>
          <mat-chip *ngFor="let t of tags; let i = index" [removable]="true" (removed)="removeTag(i)" class="inline-chip">
            <span class="tag-filter">{{getFilterLabel(t.filter)}}</span>: {{t.text}}
            <button matChipRemove aria-label="Remove tag">
              <mat-icon>cancel</mat-icon>
            </button>
          </mat-chip>
        </mat-chip-set>
      </div>
      
      <input 
        matInput 
        placeholder="Search bio.tools" 
        [(ngModel)]="inputText" 
        (ngModelChange)="onInputChange($event)"
        (focus)="onInputFocus()"
        (blur)="onInputBlur()"
        (keydown)="onKeyDown($event)" />
      
      <!-- Suggestions -->
      <div class="dropdown-menu" *ngIf="showSuggestions && suggestions.length > 0">
        <div 
          *ngFor="let s of suggestions; let i = index" 
          class="dropdown-item"
          [class.highlighted]="i === selectedSuggestionIndex"
          (mousedown)="selectSuggestion(s)"
          (mouseenter)="selectedSuggestionIndex = i">
          {{s}}
        </div>
      </div>
    </mat-form-field>
  </div>
</div>
